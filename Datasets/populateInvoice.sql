-- Insert 50 sample invoices into tbl_Invoices
-- Note: Ensure tbl_Customers and tbl_Users tables have data first
-- This version disables the trigger and uses IDENTITY_INSERT

USE [DB_CRM_MarFin]
GO

-- Disable the trigger that's causing issues
DISABLE TRIGGER trg_AutoGenerateInvoiceNumber ON tbl_Invoices;
GO

-- Enable identity insert
SET IDENTITY_INSERT tbl_Invoices ON;
GO

-- Now insert the data with explicit invoice_id values
INSERT INTO tbl_Invoices (invoice_id, customer_id, created_by, invoice_number, invoice_date, due_date, payment_terms, subtotal, tax_rate, tax_amount, discount_amount, total_amount, payment_status, notes, pdf_path, is_archived, created_date, modified_date)
VALUES
(1, 1, 1, 'INV-2023-00001', '2023-02-15', '2023-03-17', 'Net 30', 15000.00, 12.00, 1800.00, 0.00, 16800.00, 'Paid', 'First invoice for Santos Trading', NULL, 0, '2023-02-15', '2023-03-15'),
(2, 2, 1, 'INV-2023-00002', '2023-03-10', '2023-04-09', 'Net 30', 8500.00, 12.00, 1020.00, 0.00, 9520.00, 'Paid', NULL, NULL, 0, '2023-03-10', '2023-04-05'),
(3, 3, 2, 'INV-2023-00003', '2023-04-05', '2023-05-05', 'Net 30', 25000.00, 12.00, 3000.00, 2500.00, 25500.00, 'Paid', '10% discount applied', NULL, 0, '2023-04-05', '2023-05-02'),
(4, 5, 2, 'INV-2023-00004', '2023-05-20', '2023-06-19', 'Net 30', 12000.00, 12.00, 1440.00, 0.00, 13440.00, 'Paid', NULL, NULL, 0, '2023-05-20', '2023-06-15'),
(5, 6, 1, 'INV-2023-00005', '2023-06-12', '2023-07-12', 'Net 30', 18000.00, 12.00, 2160.00, 0.00, 20160.00, 'Paid', 'Premium service package', NULL, 0, '2023-06-12', '2023-07-10'),
(6, 8, 1, 'INV-2023-00006', '2023-07-08', '2023-08-07', 'Net 30', 9500.00, 12.00, 1140.00, 0.00, 10640.00, 'Paid', NULL, NULL, 0, '2023-07-08', '2023-08-05'),
(7, 9, 2, 'INV-2023-00007', '2023-08-15', '2023-09-14', 'Net 30', 22000.00, 12.00, 2640.00, 1100.00, 23540.00, 'Paid', '5% early payment discount', NULL, 0, '2023-08-15', '2023-09-10'),
(8, 11, 2, 'INV-2023-00008', '2023-09-22', '2023-10-22', 'Net 30', 14000.00, 12.00, 1680.00, 0.00, 15680.00, 'Paid', NULL, NULL, 0, '2023-09-22', '2023-10-18'),
(9, 12, 1, 'INV-2023-00009', '2023-10-10', '2023-11-09', 'Net 30', 19500.00, 12.00, 2340.00, 0.00, 21840.00, 'Paid', 'Consulting retainer Q4', NULL, 0, '2023-10-10', '2023-11-05'),
(10, 14, 1, 'INV-2023-00010', '2023-11-05', '2023-12-05', 'Net 30', 11500.00, 12.00, 1380.00, 0.00, 12880.00, 'Paid', NULL, NULL, 0, '2023-11-05', '2023-12-02'),
(11, 15, 2, 'INV-2023-00011', '2023-12-12', '2024-01-11', 'Net 30', 21000.00, 12.00, 2520.00, 0.00, 23520.00, 'Paid', NULL, NULL, 0, '2023-12-12', '2024-01-08'),
(12, 1, 1, 'INV-2024-00012', '2024-01-20', '2024-02-19', 'Net 30', 16500.00, 12.00, 1980.00, 0.00, 18480.00, 'Paid', NULL, NULL, 0, '2024-01-20', '2024-02-15'),
(13, 17, 2, 'INV-2024-00013', '2024-02-08', '2024-03-09', 'Net 30', 17000.00, 12.00, 2040.00, 850.00, 18190.00, 'Paid', '5% volume discount', NULL, 0, '2024-02-08', '2024-03-05'),
(14, 18, 1, 'INV-2024-00014', '2024-03-20', '2024-04-19', 'Net 30', 24000.00, 12.00, 2880.00, 0.00, 26880.00, 'Paid', NULL, NULL, 0, '2024-03-20', '2024-04-15'),
(15, 20, 1, 'INV-2024-00015', '2024-04-14', '2024-05-14', 'Net 30', 10500.00, 12.00, 1260.00, 0.00, 11760.00, 'Paid', NULL, NULL, 0, '2024-04-14', '2024-05-10'),
(16, 21, 2, 'INV-2024-00016', '2024-05-10', '2024-06-09', 'Net 30', 20000.00, 12.00, 2400.00, 0.00, 22400.00, 'Paid', 'IT services monthly', NULL, 0, '2024-05-10', '2024-06-05'),
(17, 23, 2, 'INV-2024-00017', '2024-06-05', '2024-07-05', 'Net 30', 12800.00, 12.00, 1536.00, 0.00, 14336.00, 'Paid', NULL, NULL, 0, '2024-06-05', '2024-07-02'),
(18, 24, 1, 'INV-2024-00018', '2024-07-18', '2024-08-17', 'Net 30', 26500.00, 12.00, 3180.00, 1325.00, 28355.00, 'Paid', '5% corporate discount', NULL, 0, '2024-07-18', '2024-08-14'),
(19, 26, 1, 'INV-2024-00019', '2024-08-22', '2024-09-21', 'Net 30', 11800.00, 12.00, 1416.00, 0.00, 13216.00, 'Paid', NULL, NULL, 0, '2024-08-22', '2024-09-18'),
(20, 27, 2, 'INV-2024-00020', '2024-09-15', '2024-10-15', 'Net 30', 17500.00, 12.00, 2100.00, 0.00, 19600.00, 'Paid', NULL, NULL, 0, '2024-09-15', '2024-10-12'),
(21, 29, 2, 'INV-2024-00021', '2024-10-10', '2024-11-09', 'Net 30', 9500.00, 12.00, 1140.00, 0.00, 10640.00, 'Paid', NULL, NULL, 0, '2024-10-10', '2024-11-05'),
(22, 30, 1, 'INV-2024-00022', '2024-11-05', '2024-12-05', 'Net 30', 24000.00, 12.00, 2880.00, 0.00, 26880.00, 'Paid', NULL, NULL, 0, '2024-11-05', '2024-12-02'),
(23, 3, 2, 'INV-2024-00023', '2024-12-08', '2025-01-07', 'Net 30', 28000.00, 12.00, 3360.00, 0.00, 31360.00, 'Paid', 'Year-end order', NULL, 0, '2024-12-08', '2025-01-05'),
(24, 32, 1, 'INV-2024-00024', '2024-12-12', '2025-01-11', 'Net 30', 8400.00, 12.00, 1008.00, 0.00, 9408.00, 'Paid', NULL, NULL, 0, '2024-12-12', '2025-01-08'),
(25, 33, 2, 'INV-2025-00025', '2025-01-10', '2025-02-09', 'Net 30', 23000.00, 12.00, 2760.00, 0.00, 25760.00, 'Paid', NULL, NULL, 0, '2025-01-10', '2025-02-05'),
(26, 35, 2, 'INV-2025-00026', '2025-01-15', '2025-02-14', 'Net 30', 12200.00, 12.00, 1464.00, 0.00, 13664.00, 'Paid', NULL, NULL, 0, '2025-01-15', '2025-02-10'),
(27, 36, 1, 'INV-2025-00027', '2025-02-10', '2025-03-12', 'Net 30', 27500.00, 12.00, 3300.00, 1375.00, 29425.00, 'Paid', '5% loyalty discount', NULL, 0, '2025-02-10', '2025-03-08'),
(28, 38, 1, 'INV-2025-00028', '2025-02-14', '2025-03-16', 'Net 30', 10100.00, 12.00, 1212.00, 0.00, 11312.00, 'Paid', NULL, NULL, 0, '2025-02-14', '2025-03-12'),
(29, 39, 2, 'INV-2025-00029', '2025-03-20', '2025-04-19', 'Net 30', 20000.00, 12.00, 2400.00, 0.00, 22400.00, 'Paid', NULL, NULL, 0, '2025-03-20', '2025-04-15'),
(30, 41, 2, 'INV-2025-00030', '2025-04-08', '2025-05-08', 'Net 30', 14800.00, 12.00, 1776.00, 0.00, 16576.00, 'Paid', NULL, NULL, 0, '2025-04-08', '2025-05-05'),
(31, 42, 1, 'INV-2025-00031', '2025-05-15', '2025-06-14', 'Net 30', 29000.00, 12.00, 3480.00, 0.00, 32480.00, 'Paid', 'Premium package', NULL, 0, '2025-05-15', '2025-06-10'),
(32, 44, 1, 'INV-2025-00032', '2025-06-22', '2025-07-22', 'Net 30', 9100.00, 12.00, 1092.00, 0.00, 10192.00, 'Paid', NULL, NULL, 0, '2025-06-22', '2025-07-18'),
(33, 45, 2, 'INV-2025-00033', '2025-07-10', '2025-08-09', 'Net 30', 19500.00, 12.00, 2340.00, 0.00, 21840.00, 'Paid', NULL, NULL, 0, '2025-07-10', '2025-08-05'),
(34, 47, 2, 'INV-2025-00034', '2025-08-05', '2025-09-04', 'Net 30', 10700.00, 12.00, 1284.00, 0.00, 11984.00, 'Paid', NULL, NULL, 0, '2025-08-05', '2025-09-02'),
(35, 48, 1, 'INV-2025-00035', '2025-09-12', '2025-10-12', 'Net 30', 21800.00, 12.00, 2616.00, 0.00, 24416.00, 'Paid', NULL, NULL, 0, '2025-09-12', '2025-10-08'),
(36, 50, 1, 'INV-2025-00036', '2025-10-08', '2025-11-07', 'Net 30', 11300.00, 12.00, 1356.00, 0.00, 12656.00, 'Paid', NULL, NULL, 0, '2025-10-08', '2025-11-05'),
(37, 1, 1, 'INV-2025-00037', '2025-10-15', '2025-11-14', 'Net 30', 17500.00, 12.00, 2100.00, 0.00, 19600.00, 'Issued', 'Regular monthly order', NULL, 0, '2025-10-15', '2025-10-15'),
(38, 2, 1, 'INV-2025-00038', '2025-10-20', '2025-11-19', 'Net 30', 8900.00, 12.00, 1068.00, 0.00, 9968.00, 'Issued', NULL, NULL, 0, '2025-10-20', '2025-10-20'),
(39, 5, 2, 'INV-2025-00039', '2025-10-25', '2025-11-24', 'Net 30', 12500.00, 12.00, 1500.00, 0.00, 14000.00, 'Issued', NULL, NULL, 0, '2025-10-25', '2025-10-25'),
(40, 6, 1, 'INV-2025-00040', '2025-11-01', '2025-12-01', 'Net 30', 19000.00, 12.00, 2280.00, 0.00, 21280.00, 'Issued', NULL, NULL, 0, '2025-11-01', '2025-11-01'),
(41, 9, 2, 'INV-2025-00041', '2025-11-05', '2025-12-05', 'Net 30', 23500.00, 12.00, 2820.00, 0.00, 26320.00, 'Issued', NULL, NULL, 0, '2025-11-05', '2025-11-05'),
(42, 11, 2, 'INV-2025-00042', '2025-11-08', '2025-12-08', 'Net 30', 14500.00, 12.00, 1740.00, 0.00, 16240.00, 'Issued', NULL, NULL, 0, '2025-11-08', '2025-11-08'),
(43, 12, 1, 'INV-2025-00043', '2025-11-10', '2025-12-10', 'Net 30', 20500.00, 12.00, 2460.00, 0.00, 22960.00, 'Issued', NULL, NULL, 0, '2025-11-10', '2025-11-10'),
(44, 15, 2, 'INV-2025-00044', '2025-11-12', '2025-12-12', 'Net 30', 22000.00, 12.00, 2640.00, 0.00, 24640.00, 'Issued', NULL, NULL, 0, '2025-11-12', '2025-11-12'),
(45, 17, 2, 'INV-2025-00045', '2025-11-14', '2025-12-14', 'Net 30', 18000.00, 12.00, 2160.00, 0.00, 20160.00, 'Issued', NULL, NULL, 0, '2025-11-14', '2025-11-14'),
(46, 18, 1, 'INV-2025-00046', '2025-11-16', '2025-12-16', 'Net 30', 25500.00, 12.00, 3060.00, 0.00, 28560.00, 'Issued', NULL, NULL, 0, '2025-11-16', '2025-11-16'),
(47, 21, 2, 'INV-2025-00047', '2025-11-18', '2025-12-18', 'Net 30', 21000.00, 12.00, 2520.00, 0.00, 23520.00, 'Issued', NULL, NULL, 0, '2025-11-18', '2025-11-18'),
(48, 24, 1, 'INV-2025-00048', '2025-11-20', '2025-12-20', 'Net 30', 27500.00, 12.00, 3300.00, 0.00, 30800.00, 'Issued', NULL, NULL, 0, '2025-11-20', '2025-11-20'),
(49, 27, 2, 'INV-2025-00049', '2025-11-22', '2025-12-22', 'Net 30', 18500.00, 12.00, 2220.00, 0.00, 20720.00, 'Issued', NULL, NULL, 0, '2025-11-22', '2025-11-22'),
(50, 30, 1, 'INV-2025-00050', '2025-11-25', '2025-12-25', 'Net 30', 25000.00, 12.00, 3000.00, 0.00, 28000.00, 'Issued', NULL, NULL, 0, '2025-11-25', '2025-11-25');

-- Disable identity insert
SET IDENTITY_INSERT tbl_Invoices OFF;
GO

-- Re-enable the trigger
ENABLE TRIGGER trg_AutoGenerateInvoiceNumber ON tbl_Invoices;
GO

-- Display confirmation
SELECT COUNT(*) AS TotalInvoicesInserted FROM tbl_Invoices;
SELECT payment_status, COUNT(*) AS Count FROM tbl_Invoices GROUP BY payment_status;
SELECT TOP 10 invoice_id, invoice_number, customer_id, invoice_date, total_amount, payment_status 
FROM tbl_Invoices 
ORDER BY invoice_id DESC;